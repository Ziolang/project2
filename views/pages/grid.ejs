<!DOCTYPE html>
<head>
	<link rel="stylesheet" type="text/css" href="stylesheets/main.css">
	<link href="https://fonts.googleapis.com/css?family=Inconsolata&display=swap" rel="stylesheet">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	
</head>
<body>
	<% include ../partials/navbar %>
	<div class="container">
		<div class="row">
			<div class="grid col-sm-8">
				<% 
					var letter = 'A';
					var position = 65;
					var final = '';
					for (var r = 0; r < 9; r++) {
						for (var c = 0; c < 9; c++) { 
						letter = String.fromCharCode(position);
						final = letter + (c + 1)%>
				<span class="cell" id="<%= final %>">{ }</span>
				<% } %>
				<br/>
				<% position++; } %>
			</div>
			<div class="display col-sm-4">
				Brush: <select name="cell">
					<option value="0">Blank</option>
					<% rows.forEach((row) => { %>
					<option value="<%= row.id %>"><%= row.name %> Cell</option>
					<% }) %>
				</select>
				<span class="preview" style="color:black">{ }</span>
					<br/>
				<div class="details"><h2>Blank Cell</h2>
					<p>This cell is completely empty and has no properties.</p>
				</div>
			</div>
		</div>
	</div>

	<script>
		function checkDB(select) {

const express = require('express')
const path = require('path')
const PORT = process.env.PORT || 5000
const { Pool } = require('pg');


express()
  .use(express.static(path.join(__dirname, 'public')))
  .set('views', path.join(__dirname, 'views'));


const connectionString = process.env.DATABASE_URL || "postgres://lsetltiaqifutt:a9820380e07bcefd62806e966634d27a4d57723db2509436a8f7bcab71279927@ec2-174-129-253-174.compute-1.amazonaws.com:5432/denvgq60nkajt6?ssl=true";
const pool = new Pool(
	{
		connectionString: connectionString
	});

	const sql = "SELECT * FROM Cells WHERE id = " + select.value;
	
	pool.query(sql, function(err, result) {
		if (err) console.log(err);
		const item = result.rows[0];
		$('.preview').html('{' + item.content + '}');
		$('.preview').css("color", "#" + item.color);
		var brush = "#brush" + $("select").val();
	});
}
	</script>
</body>